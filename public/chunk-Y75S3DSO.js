import{a as I}from"./chunk-3RGRI2YX.js";import{Aa as S,wa as O,za as M}from"./chunk-RJSEADXU.js";import"./chunk-ZWD5MATX.js";import{Bb as y,Ha as g,La as i,Ma as h,Z as C,_a as P,ca as v,cb as m,ha as x,jb as r,jc as k,kb as o,lc as w,mb as _,ob as l,pa as p,pb as s,qa as d,ub as u,wb as f}from"./chunk-YLSCEX4Z.js";import"./chunk-2F6QYXKT.js";var b=class n{constructor(t){this.httpClient=t}api="https://restcountries.com/v3.1/";imagenPais="";getCountries(){return this.httpClient.get("https://restcountries.com/v2/name/arg?fields=name,flags")}todos(){return this.httpClient.get(this.api+"all")}pais(t){return this.httpClient.get(this.api+"name/"+t)}static \u0275fac=function(e){return new(e||n)(v(I))};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})};function T(n,t){if(n&1){let e=_();r(0,"div",2)(1,"h2"),u(2),o(),r(3,"div",3)(4,"img",4),l("click",function(){p(e);let a=s();return d(a.preguntaRespondida(0))}),o(),r(5,"img",4),l("click",function(){p(e);let a=s();return d(a.preguntaRespondida(1))}),o()(),r(6,"div",5)(7,"img",4),l("click",function(){p(e);let a=s();return d(a.preguntaRespondida(2))}),o(),r(8,"img",4),l("click",function(){p(e);let a=s();return d(a.preguntaRespondida(3))}),o()(),r(9,"h2"),u(10),o()()}if(n&2){let e=s();i(2),f("\xBFCual de las siguientes es la bandera de ",e.bandera,"?"),i(2),m("src",e.opcion1.img,g),i(),m("src",e.opcion2.img,g),i(2),m("src",e.opcion3.img,g),i(),m("src",e.opcion4.img,g),i(2),f("Puntaje: ",e.contadorCorrectas,"")}}function z(n,t){if(n&1){let e=_();r(0,"div",6)(1,"H1"),u(2),o(),r(3,"button",7),l("click",function(){p(e);let a=s();return d(a.reiniciar())}),u(4,"Intentar de nuevo."),o()()}if(n&2){let e=s();i(2),f("Perdiste. Tu puntuacion final es de ",e.contadorCorrectas,"")}}var V=class n{constructor(t,e){this.countries=t;this.afs=e}perdiste=!1;ngOnInit(){this.countries.todos().subscribe(t=>{console.info(t),this.misBanderas=t}),this.misPaises=this.countries.todos(),this.cargarPregunta()}opcion1={img:"",nombre:""};opcion2={img:"",nombre:""};opcion3={img:"",nombre:""};opcion4={img:"",nombre:""};correcto=0;misBanderas;misPaises;bandera="";contadorCorrectas=0;contadorIncorrectas=0;cargarPregunta(){this.countries.todos().subscribe(t=>{var e=Math.floor(Math.random()*200);switch(this.opcion1.img=t[e+12].flags.png,this.opcion1.nombre=t[e+12].name.common,this.opcion2.img=t[e+7].flags.png,this.opcion2.nombre=t[e+7].name.common,this.opcion3.img=t[e+21].flags.png,this.opcion3.nombre=t[e+21].name.common,this.opcion4.img=t[e+32].flags.png,this.opcion4.nombre=t[e+32].name.common,this.correcto=Math.floor(Math.random()*4),this.correcto){case 0:this.bandera=this.opcion1.nombre;break;case 1:this.bandera=this.opcion2.nombre;break;case 2:this.bandera=this.opcion3.nombre;break;case 3:this.bandera=this.opcion4.nombre;break}console.log(this.bandera)})}preguntaRespondida(t){this.correcto==t?this.contadorCorrectas++:this.perder(),this.cargarPregunta()}perder(){if(this.perdiste=!0,this.contadorCorrectas>0){var t=S(this.afs,"puntajesPreguntados"),e={nombre:localStorage.getItem("user")||"Guest",fecha:new Date,puntaje:this.contadorCorrectas};M(t,e)}}reiniciar(){this.perdiste=!1,this.contadorCorrectas=0}buscarPais(t){this.countries.pais(t).subscribe(e=>this.bandera=e[0].flags.png)}static \u0275fac=function(e){return new(e||n)(h(b),h(O))};static \u0275cmp=x({type:n,selectors:[["app-preguntados"]],standalone:!0,features:[y],decls:3,vars:2,consts:[["class","banderas",4,"ngIf"],["class","perdiste",4,"ngIf"],[1,"banderas"],[1,"columna1"],["height","150","width","200",1,"img",3,"click","src"],[1,"columna2"],[1,"perdiste"],[3,"click"]],template:function(e,c){e&1&&(r(0,"body"),P(1,T,11,6,"div",0)(2,z,5,1,"div",1),o()),e&2&&(i(),m("ngIf",!c.perdiste),i(),m("ngIf",c.perdiste))},dependencies:[w,k],styles:['body[_ngcontent-%COMP%]{background-image:url("./media/world-TKDNO6K6.jpg");background-size:cover}.banderas[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:azure}.banderas[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background-color:#0a0d12}.img[_ngcontent-%COMP%]{margin:20px;width:250px}.perdiste[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center;align-items:center}.perdiste[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#d22020e7;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:black;font-size:xx-large;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.perdiste[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:200px;font-size:large;background-color:#0a0d12e6;color:#fff}']})};export{V as PreguntadosComponent};
